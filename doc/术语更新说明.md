# CombatMaster 术语更新说明

## 更新概述

本次更新对 CombatMaster 项目的配置描述进行了术语调整，将原来的"气运"相关描述改为"武学境界"相关描述。

**重要说明**：
- **底层运算机制完全不变**，仅是名称和描述的调整
- 所有计算仍使用 `LuckyCalculator`，机制与 QuantumMaster 相同
- 这是为了让战斗功能的描述更符合武侠文化内涵

## 更新内容

### 1. 术语变更

| 原术语（气运） | 新术语（武学境界） | 含义 |
|----------------|-------------------|------|
| 命途多舛 | 方寸大乱 | 心绪彻底失控，招式章法全无，破绽百出 |
| 时运不济 | 患得患失 | 心神不宁，疑虑丛生，出手之际犹豫不决 |
| 顺风顺水 | 气定神闲 | 内心沉静，呼吸绵长，不起波澜 |
| 左右逢源 | 游刃有余 | 心思通透，举止从容，于刀锋之间亦可寻得转圜之机 |
| 心想事成 | 随心所欲 | 心之所向，身之所往，招无定式却无不契合战机 |
| 福星高照 | 如有神助 | 灵台空明，如有天启，常能于不可能处觅得生机 |
| 洪福齐天 | 天人合一 | 神与天会，身与道合，周天万物皆可为援手 |
| 气运之子 | 万法归一 | 穷尽世间万法，终悟其源为一 |

### 2. 文档标签变更

- **原标签**：【气运】
- **新标签**：【武者】
- **英文标签**：【Martial Arts】（原 【Luck】）

### 3. 配置变量变更

- **配置选项变量**：`luckLevelOptions` → `combatMartialLevelOptions`
- **配置文件**：保持为 `Config.combat.lua`
- **配置管理器**：保持为 `CombatConfigManager`

### 4. 更新的文档文件

以下文档已完成更新：

1. **doc/在 CombatMaster 添加 ClassPatch 的完整流程指南.md**
   - 更新了配置示例，使用武学境界选项
   - 更新了文档标签说明
   - 添加了术语差异说明

2. **doc/在 CombatMaster 添加 classPatch 的提示词模板.md**
   - 更新了配置示例
   - 强调使用【武者】标签
   - 添加武学境界相关说明

3. **doc/在 CombatMaster 添加 PatchBuilder 的提示词模板.md**
   - 更新了配置示例
   - 添加术语差异说明
   - 明确使用武学境界选项

4. **doc/添加 PatchBuilder 的提示词模板.md**
   - 添加了项目选择说明
   - 强调 QuantumMaster 使用"气运"
   - 添加了两个项目的对比

5. **doc/添加PatchBuilder功能完整流程示例.md**
   - 添加了详细的术语对比说明
   - 更新了配置示例
   - 强调了项目间的差异

6. **doc/QuantumMaster 与 CombatMaster 术语对照表.md**（新建）
   - 完整的术语对照表
   - 详细的等级描述对照
   - 配置示例对比
   - 文化内涵解释
   - 开发指南

## 两个项目的区别总结

### QuantumMaster（非战斗功能）

| 项目 | 内容 |
|------|------|
| **适用范围** | 资源、建筑、角色、学习、世界生成等非战斗功能 |
| **术语** | 气运（命途多舛、时运不济、顺风顺水等） |
| **标签** | 【气运】/ 【Luck】 |
| **配置文件** | Config.lua |
| **配置管理器** | ConfigManager |
| **选项变量** | luckLevelOptions |
| **README** | README.md, README_en.md |

### CombatMaster（战斗功能）

| 项目 | 内容 |
|------|------|
| **适用范围** | 功法、招式等所有战斗相关功能 |
| **术语** | 武学境界（方寸大乱、患得患失、气定神闲等） |
| **标签** | 【武者】/ 【Martial Arts】 |
| **配置文件** | Config.combat.lua |
| **配置管理器** | CombatConfigManager |
| **选项变量** | combatMartialLevelOptions |
| **README** | README.combat.md, README_en.combat.md |

## 开发者注意事项

### 添加新功能时

1. **确定项目归属**
   - 战斗相关 → CombatMaster → 使用"武学境界"术语
   - 其他功能 → QuantumMaster → 使用"气运"术语

2. **使用正确的配置**
   ```lua
   -- CombatMaster
   Options = combatMartialLevelOptions,
   DisplayName = "【武者】功能名称",
   
   -- QuantumMaster
   Options = luckLevelOptions,
   DisplayName = "【气运】功能名称",
   ```

3. **在正确的 README 中添加说明**
   - CombatMaster → README.combat.md
   - QuantumMaster → README.md

### 代码实现保持一致

虽然术语不同，但代码实现完全相同：

```csharp
// 两个项目都使用相同的计算器
using QuantumMaster.Shared;

var result = LuckyCalculator.Calc_Random_Next_2Args_Max_By_Luck(
    min, max, "featureKey");
```

## 用户体验优化

### 为什么要区分术语？

1. **文化契合度**
   - 战斗功能：武侠小说中，武者的心境状态直接影响战斗表现
   - 非战斗功能：气运是传统文化中对命运和运气的描述

2. **沉浸感提升**
   - "方寸大乱"比"命途多舛"更能描述战斗中的心态失控
   - "天人合一"比"洪福齐天"更符合武学境界的最高层次

3. **功能区分明确**
   - 用户一看标签就知道功能类型
   - 【武者】= 战斗相关
   - 【气运】= 非战斗相关

## 后续维护建议

1. **保持术语一致性**
   - 新增战斗功能必须使用"武学境界"术语
   - 新增非战斗功能必须使用"气运"术语

2. **文档同步更新**
   - 更新功能时同步更新对应的 README
   - 使用正确的标签和描述

3. **用户沟通**
   - 在 MOD 说明中清楚解释两种术语
   - 强调底层机制相同，只是描述不同
   - 帮助用户理解如何选择功能

## 技术细节

### 底层机制不变

```csharp
// LuckyCalculator 的实现完全不变
public static int Calc_Random_Next_2Args_Max_By_Luck(
    int min, int max, string featureKey)
{
    // 通过 featureKey 获取配置值
    // ConfigManager 或 CombatConfigManager
    // 计算逻辑相同
}
```

### 配置映射

两个项目都使用相同的等级映射：
- 0 = 跟随全局
- 1 = 最不利（方寸大乱/命途多舛）
- 2 = 较不利（患得患失/时运不济）
- 3 = 默认（气定神闲/顺风顺水）
- 4-8 = 逐级有利

## 常见问题

### Q: 为什么不统一使用一种术语？
A: 虽然底层机制相同，但使用符合场景的术语能提升用户体验。战斗和非战斗功能的文化背景不同，使用不同术语更贴切。

### Q: 代码需要修改吗？
A: 不需要。底层的 LuckyCalculator 完全不变，只是配置描述和文档标签改变。

### Q: 如何判断功能属于哪个项目？
A: 简单原则：与战斗、功法、招式相关 → CombatMaster；其他 → QuantumMaster。

### Q: 已有的 CombatMaster 功能需要更新吗？
A: 需要。所有 CombatMaster 的功能描述都应该更新为"武学境界"相关术语，以保持一致性。

## 总结

这次更新是一次**术语优化**，目的是：
1. ✅ 提升用户体验，使描述更符合文化内涵
2. ✅ 明确区分两个项目的功能范围
3. ✅ 保持技术实现的统一性
4. ✅ 为后续开发提供清晰的指导

**核心理念**：技术统一，体验差异化。
